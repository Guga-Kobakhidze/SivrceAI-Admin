import{j as e,B as d,F as g,G as i}from"./index-DxfvgruV.js";import{A,a as I}from"./Actions-DUD2rIXS.js";import{N as z}from"./queryKeys-B_vzKx7n.js";import{u as w}from"./index.esm-hcllBIN3.js";import{c,a as s,b as x,d as a,e as F,A as Q,C as m,f as T,o as D}from"./yup-C8f-mJP9.js";import{D as E,N as _}from"./Delete-Bfy5QemR.js";import{u as S}from"./useInteriorQuestions-CnG3xYxV.js";import{T as l}from"./TextFieldElement-DkVV6CSv.js";const y=c({id:s().required("Id is required"),text:s().required("Text is required"),text_en:s().required("Text in English is required"),step:x().nullable(),question_value:s().required("Question value is required"),progress_val:x().nullable().typeError("Progress value is required").default(null),is_multi_choice:a(),is_multi_select:a(),previous_question_id:s().nullable().notRequired(),answers:F().of(c({id:s().required("Answer ID is required"),text:s().required("Answer text is required"),text_en:s().required("Answer text in English is required"),value:s().required("Answer value is required"),disabled:a().required("Disabled status is required"),icon:s().nullable().default(null),next_question_id:s().nullable().notRequired()})).min(1,"At least one answer is required").required("Answers are required")}),N={id:"",text:"",step:null,text_en:"",question_value:"",progress_val:null,is_multi_choice:!1,is_multi_select:!1,previous_question_id:"",answers:[{id:"",text:"",value:"",icon:null,text_en:"",disabled:!1,next_question_id:""}]},k=({error:p,onSubmit:j,onDelete:q,isLoading:b,prefill:h=void 0,isEdit:t=!1})=>{const f=w({resolver:D(y),defaultValues:h||N}),{control:v,handleSubmit:o}=f,{data:n}=S(),u=r=>j(r);return p&&t?e.jsx(z,{}):e.jsxs(d,{children:[e.jsx(A,{title:"Spots Question",isNavigate:!0,toolbars:[{title:"Delete",color:"error",icon:e.jsx(E,{}),variant:"contained",type:"button",hidden:!t,action:q},{title:t?"edit":"create",color:"primary",icon:e.jsx(I,{}),variant:"contained",type:"button",disabled:b,loadText:t?"editting":"creating",action:o(u)}]}),e.jsx(g,{control:v,children:e.jsx(d,{pt:3,component:"form",onSubmit:o(u),children:e.jsxs(i,{container:!0,alignItems:"start",spacing:3,children:[e.jsx(i,{size:6,children:e.jsx(l,{name:"question_value",label:"Question Value"})}),e.jsx(i,{size:6,children:e.jsx(l,{name:"id",label:"Question Id"})}),e.jsx(i,{size:6,children:e.jsx(l,{name:"text",label:"Question Title"})}),e.jsx(i,{size:6,children:e.jsx(l,{name:"text_en",label:"Question Title English"})}),e.jsx(i,{size:6,children:e.jsx(Q,{name:"previous_question_id",label:"Previous Question Id",options:(n==null?void 0:n.map(r=>({value:r.id,label:r.text})))||[]})}),e.jsx(i,{size:6,children:e.jsx(_,{label:"Progress Value",name:"progress_val"})}),e.jsx(i,{size:6,children:e.jsx(_,{name:"step",label:"Step"})}),e.jsx(i,{size:2,children:e.jsx(m,{label:"Is Multi Select",name:"is_multi_select"})}),e.jsx(i,{size:2,children:e.jsx(m,{label:"Is Multi Choice",name:"is_multi_choice"})}),e.jsx(i,{size:12,children:e.jsx(T,{})})]})})})]})};export{k as I};
