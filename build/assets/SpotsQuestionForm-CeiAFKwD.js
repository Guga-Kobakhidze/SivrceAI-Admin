import{j as e,B as d,F as g,G as s}from"./index-DxfvgruV.js";import{A,a as z}from"./Actions-DUD2rIXS.js";import{N as F}from"./queryKeys-B_vzKx7n.js";import{u as w}from"./index.esm-hcllBIN3.js";import{c,a as i,b as m,d as a,e as I,A as Q,C as x,f as S,o as T}from"./yup-C8f-mJP9.js";import{u as D}from"./useSpotQuestions-CkQcE8aU.js";import{D as E,N as p}from"./Delete-Bfy5QemR.js";import{T as l}from"./TextFieldElement-DkVV6CSv.js";const y=c({id:i().required("Id is required"),text:i().required("Text is required"),text_en:i().required("Text in English is required"),step:m().nullable(),question_value:i().required("Question value is required"),progress_val:m().nullable().typeError("Progress value is required").default(null),is_multi_choice:a(),is_multi_select:a(),previous_question_id:i().nullable().notRequired(),answers:I().of(c({id:i().required("Answer ID is required"),text:i().required("Answer text is required"),text_en:i().required("Answer text in English is required"),value:i().required("Answer value is required"),disabled:a().required("Disabled status is required"),icon:i().nullable().default(null),next_question_id:i().nullable().notRequired()})).min(1,"At least one answer is required").required("Answers are required")}),N={id:"",text:"",step:null,text_en:"",question_value:"",progress_val:null,is_multi_choice:!1,is_multi_select:!1,previous_question_id:"",answers:[{id:"",text:"",value:"",icon:null,text_en:"",disabled:!1,next_question_id:""}]},k=({error:_,onSubmit:j,onDelete:q,isLoading:b,prefill:h=void 0,isEdit:t=!1})=>{const f=w({resolver:T(y),defaultValues:h||N}),{control:v,handleSubmit:o}=f,{data:n}=D(),u=r=>j(r);return _&&t?e.jsx(F,{}):e.jsxs(d,{children:[e.jsx(A,{title:"Spots Question",isNavigate:!0,toolbars:[{title:"Delete",color:"error",icon:e.jsx(E,{}),variant:"contained",type:"button",hidden:!t,action:q},{title:t?"edit":"create",color:"primary",icon:e.jsx(z,{}),variant:"contained",type:"button",disabled:b,loadText:t?"editting":"creating",action:o(u)}]}),e.jsx(g,{control:v,children:e.jsx(d,{pt:3,component:"form",onSubmit:o(u),children:e.jsxs(s,{container:!0,alignItems:"start",spacing:3,children:[e.jsx(s,{size:6,children:e.jsx(l,{name:"question_value",label:"Question Value"})}),e.jsx(s,{size:6,children:e.jsx(l,{name:"id",label:"Question Id"})}),e.jsx(s,{size:6,children:e.jsx(l,{name:"text",label:"Question Title"})}),e.jsx(s,{size:6,children:e.jsx(l,{name:"text_en",label:"Question Title English"})}),e.jsx(s,{size:6,children:e.jsx(Q,{name:"previous_question_id",label:"Previous Question Id",options:(n==null?void 0:n.map(r=>({value:r.id,label:r.text})))||[]})}),e.jsx(s,{size:6,children:e.jsx(p,{label:"Progress Value",name:"progress_val"})}),e.jsx(s,{size:6,children:e.jsx(p,{name:"step",label:"Step"})}),e.jsx(s,{size:2,children:e.jsx(x,{label:"Is Multi Select",name:"is_multi_select"})}),e.jsx(s,{size:2,children:e.jsx(x,{label:"Is Multi Choice",name:"is_multi_choice"})}),e.jsx(s,{size:12,children:e.jsx(S,{})})]})})})]})};export{k as S};
